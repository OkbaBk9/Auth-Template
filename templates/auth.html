
{% extends "base.html" %}
{% block title %}{% if mode=='login' %}Login{% else %}Sign Up{% endif %}{% endblock %}
{% block content %}
<div class="card">
  <h2 class="title">{% if mode=='login' %}Login{% else %}Sign Up{% endif %} to JM3IA</h2>
  {% if error %}<div class="error">{{ error }}</div>{% endif %}
  <form method="POST">
    {% if mode=='signup' %}
      <input name="name" type="text" placeholder="Full Name" required>
      <input name="email" type="email" placeholder="Email" required>
      <input name="password" type="password" placeholder="Password" required>
      <select name="role" required>
        <option value="">Select Role</option>
        <option value="admin">Admin</option>
        <option value="teacher">Teacher</option>
        <option value="delegate">Delegate</option>
      </select>
      <button type="submit">Sign Up</button>
      <div class="switch-link">Already have an account? <a href="{{ url_for('login') }}">Login</a></div>
    {% else %}
      <input name="email" type="email" placeholder="Email" required>
      <input name="password" type="password" placeholder="Password" required>
      <button type="submit">Login</button>
      <div class="switch-link">No account? <a href="{{ url_for('signup') }}">Sign up</a></div>
    {% endif %}
  </form>
</div>
{% endblock %}
